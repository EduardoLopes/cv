!function(){"use strict";for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(){"use strict";for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(){"use strict";function a(a,b){return a+Math.random()*(b-a)}function b(b,c){return Math.round(a(b,c))}function c(a){return a[b(0,a.length-1)]}function d(a){if(i=Math.sqrt(a),i>a)return!0;for(h=2;a>h;h++)if(a%h===0)return!1;return!0}function e(){l.height=j.height(),l.width=j.width(),n.height=k.height(),n.width=k.width()}function f(){for(m.clearRect(0,0,l.width,l.height),s=l.height/20-1;s>=0;s--)for(t=l.width/20-1;t>=0;t--)q=a(5,18),r=a(2,6),m.fillStyle=d(p)?"#209ac7":"#3a3a3a",c([!0,!1])?m.fillRect(20.5*t-q/2,20.5*s-q/2,q,q):(m.beginPath(),m.arc(20.5*t,20.5*s,r,2*Math.PI,0,!1),m.fill()),p++}function g(){2===u?(this.xSpeed=b(-3,3),this.ySpeed=3,this.x=n.width/2,this.y=n.height/6):(this.x=n.width/2,this.y=n.height/2,this.xSpeed=b(-3,3),this.ySpeed=b(-3,3)),this.size=b(2,8),this.aceleration=a(1,1.1),this.angle=0,this.color=c(["#181818","#209ac7"]),0===this.xSpeed&&(this.xSpeed=1),0===this.ySpeed&&(this.ySpeed=1)}var h,i,j=$("#canvas-demo .big-4"),k=$("#canvas-demo .big-4"),l=document.getElementById("pattern"),m=l.getContext("2d"),n=document.getElementById("particle"),o=n.getContext("2d");e(),$(window).resize(function(){e(),f()});var p=1,q=0,r=0,s=0,t=0;$(l).click(function(){f()}),f();var u=2,v=6;$(n).click(function(){2===u&&v>12&&(u++,v=1),2!==u&&u++,2===u&&v++,u>2&&(u=0)}),g.prototype.draw=function(){o.fillStyle=this.color,o.beginPath(),o.arc(this.x,this.y,this.size,2*Math.PI,0,!1),o.fill()},g.prototype.update=function(){this.xSpeed*=this.aceleration,this.ySpeed*=this.aceleration,0===u&&(this.x+=this.xSpeed,this.y+=this.ySpeed),1===u&&(this.x+=this.xSpeed+Math.cos(5*this.angle)*this.xSpeed,this.y+=this.ySpeed+Math.sin(5*this.angle)*this.ySpeed,this.angle+=.02),2===u&&(this.xSpeed=8*Math.cos(4*this.angle),this.ySpeed=8*Math.sin(this.angle*v),this.x+=this.xSpeed,this.y+=this.ySpeed,this.angle+=.02)};var w,x=[],y=0;!function z(){for(o.clearRect(0,0,n.width,n.height),x[y++%200]=new g,w=x.length;w--;)x[w].update(),x[w].draw();requestAnimationFrame(z)}()}(this);